<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">

  <title>Dette er en nettside</title>



</head>

<body onload="nyttOrd()" onkeydown="play(event)">
    <h1>Typing Game Alpha</h1>
    <div id="word"></div>
    <div id="poeng"></div>
   <!--Skriv her <input type="text" id="skriv" oninput="riktig()">-->

  <script>



      var list = ["HI","BYE","FUN", "COOL", "GOOD"];
      var randomItem;
      var keyPressed;
      var keyPressedChar;
      var letters;
      var i = 0;
      var currentChar = null;
      var spillFerdig = false;

      function play(event){
        var keyPressed = event.keyCode;
        keyPressedChar = String.fromCharCode(keyPressed);
        //console.log("Keyboard press works: " + keyPressedChar);
        splitWord();
        checkValue();

      }

      function splitWord(){
        letters = randomItem.split('');
        //console.log(letters);
      }

      function nyttOrd(){
          randomItem = list[Math.floor(Math.random()*list.length)];
          document.getElementById("word").innerText = "The word is: "+ randomItem;
          splitWord();
          currentChar = letters[i];
      }
      function checkValue(){
        if (spillFerdig) {
          console.log("Ferdig :D");
          list.pop(randomItem);
          goAgain();
          return;
        }
        console.log("sammenligner: " + currentChar + " og " + keyPressedChar);
        if(keyPressedChar === currentChar){
          console.log("Du fant riktig bokstav!");
          i++; //Inkrementer teller for å hente neste bokstav
          if (i < letters.length) { // Er vi på siste siste bokstav?
            currentChar = letters[i] //nopp, hent neste
          } else {
            spillFerdig = true; //jepp, sett til null
          }
        } else {
          console.log("Feil bokstav!!");
          console.log("riktig er: " + letters[i]);
        }
    }
    function goAgain(){
        i = 0;
        currentChar = null;
        spillFerdig = false;
        nyttOrd();
    }
</script>

</body>
</html>
